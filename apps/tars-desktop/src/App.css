/* App-specific styles - minimal to avoid conflicts with Tailwind */

/* MDXEditor theme customization */
.mdx-editor-container {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.mdx-editor-container .mdxeditor {
  min-height: 100%;
  display: flex;
  flex-direction: column;
  background: transparent;
}

.mdx-editor-container .mdxeditor [role='toolbar'] {
  background: var(--secondary);
  border-bottom: 1px solid var(--border);
  border-radius: 0;
  padding: 0.5rem;
  flex-shrink: 0;
  position: sticky;
  top: 0;
  z-index: 10;
}

.mdx-editor-container .mdxeditor [role='toolbar'] button {
  color: var(--foreground);
}

.mdx-editor-container .mdxeditor [role='toolbar'] button:hover {
  background: var(--muted);
}

.mdx-editor-container .mdxeditor [role='toolbar'] button[data-active='true'] {
  background: var(--primary);
  color: var(--primary-foreground);
}

.mdx-editor-container .mdxeditor-root-contenteditable {
  flex: 1;
  min-height: 0;
}

/* Dark mode adjustments */
.dark .mdx-editor-container .mdxeditor {
  --accentBase: var(--primary);
  --accentBgSubtle: var(--muted);
  --accentLine: var(--border);
  --accentSolid: var(--primary);
  --accentText: var(--primary);
  --basePageBg: transparent;
  --baseBgSubtle: var(--muted);
  --baseTextContrast: var(--foreground);
  --baseTextHighContrast: var(--foreground);
  --baseTextLowContrast: var(--muted-foreground);
}

/* Light mode adjustments */
.mdx-editor-container .mdxeditor {
  --accentBase: var(--primary);
  --accentBgSubtle: var(--muted);
  --accentLine: var(--border);
  --accentSolid: var(--primary);
  --accentText: var(--primary);
  --basePageBg: transparent;
  --baseBgSubtle: var(--muted);
  --baseTextContrast: var(--foreground);
  --baseTextHighContrast: var(--foreground);
  --baseTextLowContrast: var(--muted-foreground);
}

/* Code block styling */
.mdx-editor-container .cm-editor {
  background: var(--secondary) !important;
  border-radius: 0.375rem;
  position: relative;
}

.dark .mdx-editor-container .cm-editor {
  background: var(--secondary) !important;
}

.mdx-editor-container .cm-content {
  font-family:
    ui-monospace,
    SFMono-Regular,
    SF Mono,
    Menlo,
    Consolas,
    Liberation Mono,
    monospace;
  font-size: 0.875rem;
  color: var(--foreground);
}

/* Table styling */
.mdx-editor-container table {
  border-collapse: collapse;
  width: 100%;
}

.mdx-editor-container th,
.mdx-editor-container td {
  border: 1px solid var(--border);
  padding: 0.5rem;
}

.mdx-editor-container th {
  background: var(--muted);
  font-weight: 600;
}

/* Dropdown and dialog styling */
.mdxeditor-popup-container {
  z-index: 50;
}

.mdxeditor-popup-container [role='dialog'],
.mdxeditor-popup-container [role='listbox'] {
  background: var(--popover);
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  box-shadow:
    0 10px 15px -3px rgb(0 0 0 / 0.1),
    0 4px 6px -4px rgb(0 0 0 / 0.1);
  color: var(--foreground);
}

.dark .mdxeditor-popup-container [role='dialog'],
.dark .mdxeditor-popup-container [role='listbox'] {
  background: var(--popover);
}

.mdxeditor-popup-container [role='option'] {
  padding: 0.5rem 0.75rem;
  cursor: pointer;
  color: var(--foreground);
}

.mdxeditor-popup-container [role='option']:hover,
.mdxeditor-popup-container [role='option'][data-highlighted='true'] {
  background: var(--accent);
  color: var(--accent-foreground);
}

/* Select/dropdown trigger styling - TARS metallic theme */
.mdx-editor-container select,
.mdxeditor-select-trigger,
[class*='_selectTrigger_'] {
  background: var(--secondary) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius) !important;
  padding: 0.25rem 0.5rem;
  font-size: 0.875rem;
  color: var(--foreground) !important;
  box-shadow:
    inset 0 1px 0 var(--metal-highlight),
    0 1px 2px var(--metal-shadow);
  cursor: pointer;
}

.mdx-editor-container select:hover,
.mdxeditor-select-trigger:hover,
[class*='_selectTrigger_']:hover {
  background: color-mix(in srgb, var(--secondary) 100%, white 5%) !important;
}

.mdx-editor-container select:focus,
.mdxeditor-select-trigger:focus,
[class*='_selectTrigger_']:focus {
  outline: none;
  border-color: var(--primary) !important;
  box-shadow:
    inset 0 1px 0 var(--metal-highlight),
    0 0 0 2px var(--tars-glow-soft);
}

/* Code block language selector */
.mdx-editor-container [class*='_nestedEditor_'] select,
.mdx-editor-container [class*='_codeBlockEditor_'] select {
  background: var(--secondary) !important;
  border: 1px solid var(--border) !important;
  color: var(--foreground) !important;
  border-radius: var(--radius) !important;
  padding: 0.25rem 0.5rem !important;
  font-size: 0.75rem !important;
  min-width: 80px !important;
}
